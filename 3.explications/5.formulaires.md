# Les formulaires en React

- Pour gérer les formulaires en React , on retrouve deux approches principales : les composants contrôlés et les composants non contrôlés.

### Composants contrôlés
- Consiste a utiliser l'état de React pour gérer les valeurs des champs de formulaire. Chaque champ de formulaire est lié à une valeur dans l'état du composant, et les modifications apportées aux champs mettent à jour cet état.

```jsx
import { useState } from 'react';

function MyForm() {
  const [name, setName] = useState('');

  const handleChange = (event) => {
    setName(event.target.value);
  };

  const handleSubmit = (event) => {
    event.preventDefault();
    alert(`Nom soumis : ${name}`);
  };

  return (
    <form onSubmit={handleSubmit}>
      <label>
        Nom:
        <input type="text" value={name} onChange={handleChange} />
      </label>
      <button type="submit">Soumettre</button>
    </form>
  );
}
export default MyForm;
```

### Composants non contrôlés
- Utilisent des références (refs) pour accéder directement aux éléments DOM et récupérer leurs valeurs lors de la soumission du formulaire, sans lier les champs à l'état du composant.
```jsx
import { useRef } from 'react';

function MyForm() {
  const nameRef = useRef();

  const handleSubmit = (event) => {
    event.preventDefault();
    alert(`Nom soumis : ${nameRef.current.value}`);
  };

  return (
    <form onSubmit={handleSubmit}>
      <label>
        Nom:
        <input type="text" ref={nameRef} />
      </label>
      <button type="submit">Soumettre</button>
    </form>
  );
}
export default MyForm;
```

### Validation des formulaires
- Pour valider les données il sera possible de traiter la validation lors de la soumission du formulaire ou en temps réel lors de la saisie des données.

```jsx
const handleSubmit = (event) => {
  event.preventDefault();
  if (name.trim() === '') {
    alert('Le nom est requis.');
  } else {
    alert(`Nom soumis : ${name}`);
  }
};
```

- Ou de prevoir un message d'erreur en temps réel.

```jsx
const handleChange = (event) => {
  setName(event.target.value);
};

return (
  <form onSubmit={handleSubmit}>
    <label>
      Nom:
      <input type="text" value={name} onChange={handleChange} />
    </label>
    {name.trim() === '' && <p style={{ color: 'red' }}>Le nom est requis.</p>}
    <button type="submit">Soumettre</button>
  </form>
);
```

### Récupération des données

- Pour recuperer les données soumises par le formulaires on passe par l'event qui à été transmis à la fonction de gestion de la soumission du formulaire.

- Plusieurs possibilités s'offrent à nous, selon l'approche choisie (contrôlée ou non contrôlée).

```jsx
// 
const handleSubmit = (event) => {
  event.preventDefault();
  const name1 = event.target.name.value;
  const name = formData.get('name');
  alert(`Nom soumis : ${name}`);
};