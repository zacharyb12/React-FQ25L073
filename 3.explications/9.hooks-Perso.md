# Les hooks personnalisés

### Qu'est-ce qu'un hook personnalisé ?
- Un hook personnalisé est une fonction JavaScript dont le nom commence par "use" et qui peut appeler d'autres hooks React.
- Ils permettent de réutiliser la logique d'état et les effets entre les composants sans avoir à dupliquer le code.

### Regles pour créer un hook personnalisé
- Le nom du hook doit commencer par "use" pour que React puisse identifier qu'il s'agit d'un hook.
- Un hook personnalisé peut utiliser d'autres hooks React (comme useState, useEffect, etc.) à l'intérieur de sa définition.

### Exemple de hook personnalisé
```jsx
import { useState, useEffect } from "react";
import axios from "axios";

function useFetch(url){
    const [data , setData] = useState([]);
    const [error , setError] = useState(null);
    const [loading , setLoading] = useState(false);

    useEffect(()=> {
        setLoading (true);

        const fetchData = async () => {
            try {
                const response = await axios.get(url);
                setData(response.data);
                
            } catch (error) {

                setError(error);

            }finally{

                setLoading (false);
            }
        }

            fetchData();

    },[url])

    return {data, error, loading};
}

export default useFetch;
```

### Utilisation du hook personnalisé
```jsx
import useFetch from "./hooks/useFetch";

function App() {
    const { data, error, loading } = useFetch("https://api.example.com/data");

    if (loading) return <div>Loading...</div>;
    if (error) return <div>Error: {error.message}</div>;

    return (
        <div>
            <h1>Data</h1>
            <pre>{JSON.stringify(data, null, 2)}</pre>
        </div>
    );
}
export default App;
```